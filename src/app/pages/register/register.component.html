<div class="container">
    <mat-card>
        <mat-card-content class="mat__card-content">
            <app-general-form [generalForm]="myform"
                (onChangeSingleBranch)="onChangeSingleBranchValue($event)"></app-general-form>
            <app-accounting-form [accountingForm]="myform"></app-accounting-form>
            <div formArrayName="branches" *ngFor="let branch of branches.controls; index as i; first as isFirst">
                <app-branches-form [isSingleBranch]="isSingleBranch()" [branchForm]="branch"
                    (removeBranch)="removeBranch($event)" [index]="i"></app-branches-form>
            </div>
            @if (isSingleBranch() === false) {
            <mat-card-actions>
                <button mat-button (click)="addBranch()">Adicionar filial</button>
            </mat-card-actions>
            }
            <app-other-informations-form [isSingleBranch]="isSingleBranch()"
                [otherForm]="myform"></app-other-informations-form>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button (click)="onSave()">Salvar</button>
            <button mat-button (click)="onReset()">Limpar</button>
        </mat-card-actions>
    </mat-card>
</div>